/* v5.0.0 */
/* v4.0.0 */
/* ==========================================================================
   Supporter Bot - Channel Restrictions & Select2 Overrides
   - Restriction wrapper, add button, and cards
   - Restriction type badges & flags
   - Advanced restriction toggle container
   - Select2 multi-select field styling
   - Select2 dropdown readability in dark layouts
   ========================================================================== */

/* ==========================================================================
   Restriction Wrapper & Add Button
   ========================================================================== */

.restriction-wrapper {
  padding: 0.5rem 0;
}

.btn-add-res {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  background: linear-gradient(135deg, #eab308, #ca8a04);
  color: white;
  font-weight: 700;
  font-size: 0.8rem;
  border: none;
  border-radius: 0.75rem;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(234, 179, 8, 0.3);
}

.btn-add-res:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(234, 179, 8, 0.4);
}

/* ==========================================================================
   Restriction Cards & Badge Chips
   ========================================================================== */

.res-card {
  background: rgba(30, 41, 59, 0.5);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 1rem;
  padding: 1.25rem;
  transition: all 0.3s ease;
}

.res-card:hover {
  background: rgba(30, 41, 59, 0.7);
  border-color: rgba(249, 115, 22, 0.3);
  transform: translateY(-4px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
}

.res-badge {
  display: inline-block;
  padding: 0.25rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.65rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.res-badge.block-invites {
  background: rgba(239, 68, 68, 0.1);
  color: #f87171;
  border: 1px solid rgba(239, 68, 68, 0.2);
}

.res-badge.block-links {
  background: rgba(59, 130, 246, 0.1);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.2);
}

.res-badge.media-only {
  background: rgba(168, 85, 247, 0.1);
  color: #c084fc;
  border: 1px solid rgba(168, 85, 247, 0.2);
}

.res-badge.text-only {
  background: rgba(34, 197, 94, 0.1);
  color: #4ade80;
  border: 1px solid rgba(34, 197, 94, 0.2);
}

/* ==========================================================================
   Restriction Flags & Advanced Options Container
   ========================================================================== */

.res-flag {
  accent-color: #6366f1;
  width: 1rem;
  height: 1rem;
  cursor: pointer;
}

#advResContent {
  padding: 1rem;
  background: rgba(15, 23, 42, 0.3);
  border-radius: 0.75rem;
  margin-top: 0.5rem;
}

#advResChevron {
  transition: transform 0.3s ease;
}

#advResChevron.rotated {
  transform: rotate(180deg);
}

/* ==========================================================================
   Select2 Multi-Select Field Styling
   ========================================================================== */

.select2-container--default .select2-selection--multiple {
  background: rgba(15, 23, 42, 0.5) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 0.5rem !important;
  min-height: 42px !important;
  padding: 4px !important;
}

.select2-container--default
  .select2-selection--multiple
  .select2-selection__choice {
  background: rgba(99, 102, 241, 0.2) !important;
  border: 1px solid rgba(99, 102, 241, 0.3) !important;
  border-radius: 0.375rem !important;
  color: #e2e8f0 !important;
  padding: 4px 8px !important;
}

/* ==========================================================================
   Select2 Dropdown Options & Search (Base Light Theme)
   ========================================================================== */

.select2-container--default .select2-results__option {
  color: #000000 !important;
  background-color: #ffffff !important;
  padding: 8px 12px !important;
  font-weight: 600 !important;
}

.select2-container--default .select2-results__option:hover,
.select2-container--default .select2-results__option--highlighted {
  background-color: #3b82f6 !important;
  color: #ffffff !important;
}

.select2-container--default .select2-results__option[aria-selected="true"] {
  background-color: #3b82f6 !important;
  color: #ffffff !important;
}

.select2-container--default .select2-search--dropdown .select2-search__field {
  background-color: #ffffff !important;
  color: #000000 !important;
  border: 1px solid #cbd5e1 !important;
  border-radius: 0.375rem !important;
  padding: 6px 10px !important;
}

.select2-container--default
  .select2-search--dropdown
  .select2-search__field:focus {
  border-color: #3b82f6 !important;
  outline: none !important;
}

.select2-dropdown {
  background-color: #ffffff !important;
  border: 1px solid #cbd5e1 !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
    0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
}

/* ==========================================================================
   Select2 Readability Overrides in Dark Contexts
   ========================================================================== */

.select2-dropdown,
.select2-dropdown * {
  opacity: 1 !important;
  filter: none !important;
}

.select2-container--default .select2-results__option {
  color: #0f172a !important;
  background-color: #ffffff !important;
  opacity: 1 !important;
}

.select2-container--default .select2-results__option--highlighted,
.select2-container--default .select2-results__option:hover,
.select2-container--default .select2-results__option[aria-selected="true"] {
  background-color: #3b82f6 !important;
  color: #ffffff !important;
  opacity: 1 !important;
}

.select2-container--default .select2-results__option[aria-disabled="true"],
.select2-container--default
  .select2-results__option.select2-results__option--disabled {
  color: #6b7280 !important;
  background-color: #ffffff !important;
  opacity: 0.6 !important;
}

.select2-results__options,
.select2-results__option {
  opacity: 1 !important;
}

/* Selected choice tokens in multi-select: ensure legible text on tinted background */
.select2-container--default
  .select2-selection--multiple
  .select2-selection__choice {
  color: #0f172a !important;
  background: rgba(99, 102, 241, 0.25) !important;
}

/* Stronger shadow for dropdown contrast on dark pages */
.select2-dropdown {
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.45) !important;
}
