<!-- v5.0.0 -->
<!-- v4.0.0 -->
<div class="voice-channels-container">
    <!-- Sub-tab Navigation -->
    <div class="flex items-center gap-4 mb-6 border-b border-slate-700/50 pb-px">
        <button onclick="switchJTCSubTab('stats')" id="jtc-tab-stats"
            class="sub-tab-btn active px-4 py-2 text-sm font-medium transition-all border-b-2 border-indigo-500 text-indigo-400">
            <i class="fas fa-chart-pie mr-2"></i> Stats & History
        </button>
        <button onclick="switchJTCSubTab('settings')" id="jtc-tab-settings"
            class="sub-tab-btn px-4 py-2 text-sm font-medium transition-all border-b-2 border-transparent text-slate-400 hover:text-slate-200 hover:border-slate-600">
            <i class="fas fa-cog mr-2"></i> Configure JTC
        </button>
    </div>

    <!-- Sub-tab Content Containers -->
    <div id="jtc-sub-stats" class="sub-tab-content animation-fade-in">
        {% include 'Tabs/SubTabsJTC/config_jtc_stats.html' %}
    </div>

    <div id="jtc-sub-settings" class="sub-tab-content hidden animation-fade-in">
        {% include 'Tabs/SubTabsJTC/config_jtc_settings.html' %}
    </div>
</div>

<style>
    .sub-tab-btn.active {
        border-color: #6366f1;
        color: #818cf8;
    }

    .animation-fade-in {
        animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(5px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>

<script>
    const GUILD_ID = "{{ server.id }}";

    /**
     * Switch between JTC sub-tabs
     */
    function switchJTCSubTab(tab) {
        // Toggle Buttons
        document.querySelectorAll('.sub-tab-btn').forEach(btn => {
            btn.classList.remove('active', 'border-indigo-500', 'text-indigo-400');
            btn.classList.add('border-transparent', 'text-slate-400');
        });

        const activeBtn = document.getElementById(`jtc-tab-${tab}`);
        activeBtn.classList.add('active', 'border-indigo-500', 'text-indigo-400');
        activeBtn.classList.remove('border-transparent', 'text-slate-400');

        // Toggle Content
        document.getElementById('jtc-sub-stats').classList.add('hidden');
        document.getElementById('jtc-sub-settings').classList.add('hidden');
        document.getElementById(`jtc-sub-${tab}`).classList.remove('hidden');

        // Special handling for specific tabs
        if (tab === 'settings') {
            loadJTCDiscordData(GUILD_ID);
        }
    }

    // Load initial data
    document.addEventListener('DOMContentLoaded', function () {
        if (typeof loadVoiceChannelData === 'function') {
            loadVoiceChannelData();
        }
    });
</script>